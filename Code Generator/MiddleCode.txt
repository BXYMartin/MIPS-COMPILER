FUNC char test_if()
PARA int a
PARA int b
BLZ a b $Label1
RET char '9'
JMP $Label2
LABEL $Label1
RET char '9'
LABEL $Label2
FUNC int test_factorial()
PARA int n
BNZ n 0 $Label3
RET int 1
JMP $Label4
LABEL $Label3
#0 = n - 1
PUSH #0
CALL test_factorial
#1 = Ret + 0
RET id #1
LABEL $Label4
FUNC int test_while()
n = 3 + 0
LABEL $Label5
#0 = n - 1
n = #0 + 0
PRT id n
ENTER
BNZ n 0 $Label5
RET int 666
FUNC void test_switch_char()
PARA char c
BEZ c 97 $Label7
BEZ c 98 $Label8
PRT string "cat"
ENTER
JMP $Label6
LABEL $Label7
PRT string "apple"
ENTER
PRT string "ali"
ENTER
JMP $Label6
LABEL $Label8
PRT string "boy"
ENTER
JMP $Label6
LABEL $Label6
RET
FUNC void test_relation()
PARA int n
BGEZ n 3 $Label10
PRT string "<"
ENTER
JMP $Label11
LABEL $Label10
LABEL $Label11
BGZ n 4 $Label12
PRT string "<="
ENTER
JMP $Label13
LABEL $Label12
LABEL $Label13
BLEZ n 5 $Label14
PRT string ">"
ENTER
JMP $Label15
LABEL $Label14
LABEL $Label15
BLZ n 6 $Label16
PRT string ">="
ENTER
JMP $Label17
LABEL $Label16
LABEL $Label17
BEZ n 7 $Label18
PRT string "!="
ENTER
JMP $Label19
LABEL $Label18
LABEL $Label19
BNZ n 8 $Label20
PRT string "=="
ENTER
JMP $Label21
LABEL $Label20
LABEL $Label21
RET
FUNC void test_expression()
var_int_array_1[0] = 3 + 0
#0 = var_int_array_1[0]
PUSH 3
CALL test_factorial
#1 = Ret + 0
#2 = -1 - #0
#3 = #2 + 5
#4 = #3 + 97
#5 = #4 + #1
#6 = #5 + -3
res = #6 + 0
PRT string "The result is "
PRT id res
ENTER
PRT string " !#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz{|}~"
ENTER
RET
FUNC void main()
READ int op
BEZ op 1 $Label23
BEZ op 2 $Label24
BEZ op 3 $Label25
BEZ op 4 $Label26
BEZ op 5 $Label27
BEZ op 6 $Label28
PRT string "Please input 1~6"
ENTER
JMP $Label22
LABEL $Label23
PRT string "test_if"
ENTER
READ int var_int_1
READ int var_int_2
PUSH var_int_1
PUSH var_int_2
CALL test_if
#0 = Ret + 0
var_char_res = #0 + 0
PRT id var_char_res
ENTER
PUSH var_int_2
PUSH var_int_1
CALL test_if
#0 = Ret + 0
var_char_res = #0 + 0
PRT id var_char_res
ENTER
JMP $Label22
LABEL $Label24
PRT string "test_factorial"
ENTER
READ int var_int_1
PUSH var_int_1
CALL test_factorial
#0 = Ret + 0
var_int_res = #0 + 0
PRT id var_int_res
ENTER
JMP $Label22
LABEL $Label25
PRT string "test_while"
ENTER
CALL test_while
#0 = Ret + 0
var_int_res = #0 + 0
PRT id var_int_res
ENTER
JMP $Label22
LABEL $Label26
PRT string "test_switch_char"
ENTER
READ char var_char_1
PUSH var_char_1
CALL test_switch_char
READ char var_char_1
PUSH var_char_1
CALL test_switch_char
READ char var_char_1
PUSH var_char_1
CALL test_switch_char
JMP $Label22
LABEL $Label27
PRT string "test_relation"
ENTER
READ int var_int_1
PUSH var_int_1
CALL test_relation
READ int var_int_1
PUSH var_int_1
CALL test_relation
JMP $Label22
LABEL $Label28
PRT string "test_expression"
ENTER
CALL test_expression
JMP $Label22
LABEL $Label22
EXIT
